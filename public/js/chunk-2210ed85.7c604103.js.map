{"version":3,"sources":["webpack:///./src/views/StickView.vue?3b9b","webpack:///src/views/StickView.vue","webpack:///./src/views/StickView.vue?4546","webpack:///./src/views/StickView.vue","webpack:///./src/views/StickView.vue?4982"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","ref","class","headerFixed","_v","staticClass","middleFixed","staticRenderFns","StickViewvue_type_script_lang_js_","name","data","mounted","window","addEventListener","handleScroll","$nextTick","header","document","getElementById","offsetHeaderTop","offsetTop","offsetHeight","offsetMiddleTop","$refs","middle","console","log","destroyed","removeEventListener","methods","scrollTop","pageYOffset","documentElement","body","style","top","handleScroll1","headerTop","getBoundingClientRect","middleTop","views_StickViewvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StickView_vue_vue_type_style_index_0_id_748a45cb_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_StickView_vue_vue_type_style_index_0_id_748a45cb_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,MAAA,CAAOC,GAAA,WAAcH,EAAA,OAAYI,IAAA,SAAAC,MAAAT,EAAAU,YAAA,aAAAJ,MAAA,CAAuDC,GAAA,cAAkB,CAAAP,EAAAW,GAAA,mCAAAP,EAAA,OAAsDQ,YAAA,gBAA2B,CAAAZ,EAAAW,GAAA,4BAAAP,EAAA,OAA+CI,IAAA,SAAAC,MAAAT,EAAAa,YAAA,aAAAP,MAAA,CAAuDC,GAAA,gBAAoB,CAAAP,EAAAW,GAAA,2BAAAP,EAAA,OAA8CQ,YAAA,gBAA2B,CAAAZ,EAAAW,GAAA,6BAClfG,EAAA,GCmBAC,EAAA,CACAC,KAAA,YACAC,KAFA,WAGA,OACAP,aAAA,EACAG,aAAA,IAGAK,QARA,WASAC,OAAAC,iBAAA,SAAAnB,KAAAoB,cAEApB,KAAAqB,UAAA,WAEA,IAAAC,EAAAC,SAAAC,eAAA,aAEAxB,KAAAyB,gBAAAH,EAAAI,UACA1B,KAAA2B,aAAAL,EAAAK,aACA3B,KAAA4B,gBAAA5B,KAAA6B,MAAAC,OAAAJ,UACAK,QAAAC,IAAA,aAAAhC,KAAA4B,gBAAA,IAAA5B,KAAA2B,iBAGAM,UArBA,WAsBAf,OAAAgB,oBAAA,SAAAlC,KAAAoB,eAEAe,QAAA,CACAf,aADA,WAGA,IAAAgB,EAAAlB,OAAAmB,aAAAd,SAAAe,gBAAAF,WAAAb,SAAAgB,KAAAH,UACApC,KAAAY,YAAAwB,GAAApC,KAAA4B,gBAAA5B,KAAA2B,aAEA3B,KAAAS,aAAAT,KAAAY,aAAAwB,GAAApC,KAAAyB,gBAEAzB,KAAA4B,gBAAAQ,GAAA,EAAApC,KAAA2B,cACA3B,KAAA4B,gBAAAQ,GAAApC,KAAA2B,cACA3B,KAAAS,aAAA,EACAsB,QAAAC,IAAA,cAAAhC,KAAA4B,gBAAAQ,IACAL,QAAAC,IAAA,oBAAAI,EAAA,EAAApC,KAAA2B,aAAA3B,KAAA4B,kBACAL,SAAAC,eAAA,aAAAgB,MAAAC,MAAAL,EAAA,EAAApC,KAAA2B,aAAA3B,KAAA4B,iBAAA,MAEAL,SAAAC,eAAA,aAAAgB,MAAAC,IAAA,OAKAC,cApBA,WAwBA,IAAAC,EAAA3C,KAAA6B,MAAAP,OAAAsB,wBAAAH,IACAI,EAAA7C,KAAA6B,MAAAC,OAAAc,wBAAAH,IAEAV,QAAAC,IAAA,wBAAAW,GACAZ,QAAAC,IAAA,wBAAAa,GAEA7C,KAAAY,YAAAiC,GAAA,EAEA7C,KAAAS,aAAAT,KAAAY,aAAA+B,GAAA,EAEAE,GAAA7C,KAAA2B,cAAAkB,GAAA,GACA7C,KAAAS,aAAA,EACAT,KAAA6B,MAAAP,OAAAkB,MAAAC,IAAAI,EAAA7C,KAAA2B,aAAA,MAEA3B,KAAA6B,MAAAP,OAAAkB,MAAAC,IAAA,KClFmVK,EAAA,0BCQnVC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACAhD,EACAe,GACF,EACA,KACA,WACA,MAIeqC,EAAA,WAAAH,sECnBf,IAAAI,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAuiBE,EAAG","file":"js/chunk-2210ed85.7c604103.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"space\"}}),_c('div',{ref:\"header\",class:_vm.headerFixed?'isFixed':'',attrs:{\"id\":\"head-text\"}},[_vm._v(\"\\n        我是可以粘滞在顶部的导航条\\n    \")]),_c('div',{staticClass:\"content-part\"},[_vm._v(\"\\n        我是内容部分\\n    \")]),_c('div',{ref:\"middle\",class:_vm.middleFixed?'isFixed':'',attrs:{\"id\":\"middle-text\"}},[_vm._v(\"\\n        中间导航栏\\n    \")]),_c('div',{staticClass:\"content-part\"},[_vm._v(\"\\n        底部内容\\n    \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 吸顶效果的展示\n<template>\n    <div>\n        <div id=\"space\"></div>\n        <div id=\"head-text\" ref=\"header\" :class=\"headerFixed?'isFixed':''\">\n            我是可以粘滞在顶部的导航条\n        </div>\n        <div class=\"content-part\">\n            我是内容部分\n        </div>\n        <div id=\"middle-text\" ref=\"middle\" :class=\"middleFixed?'isFixed':''\">\n            中间导航栏\n        </div>\n        <div class=\"content-part\">\n            底部内容\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"StickView\",\n    data() {\n        return {\n            headerFixed: false,\n            middleFixed: false\n        }\n    },\n    mounted() {\n        window.addEventListener(\"scroll\",this.handleScroll);\n        // 监听dom渲染完成\n        this.$nextTick(function(){\n            // 这里fixedHeaderRoot是吸顶元素的ID\n            let header = document.getElementById(\"head-text\");\n            // 这里要得到top的距离和元素自身的高度\n            this.offsetHeaderTop = header.offsetTop;\n            this.offsetHeight = header.offsetHeight;\n            this.offsetMiddleTop = this.$refs.middle.offsetTop;\n            console.log(\"offsetTop:\" + this.offsetMiddleTop + \",\" + this.offsetHeight);\n        });\n    },\n    destroyed() {\n        window.removeEventListener(\"scroll\",this.handleScroll);\n    },\n    methods: {\n        handleScroll() {\n            // 得到页面滚动的距离\n            let scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\n            this.middleFixed = scrollTop >= this.offsetMiddleTop - this.offsetHeight;\n            // 判断页面滚动的距离是否大于吸顶元素的位置\n            this.headerFixed = !this.middleFixed && scrollTop >= this.offsetHeaderTop;\n\n            if((this.offsetMiddleTop - scrollTop) <= this.offsetHeight * 2 && \n                (this.offsetMiddleTop - scrollTop) >= this.offsetHeight) {\n                this.headerFixed = true;\n                console.log(\"offsetTop:\" + (this.offsetMiddleTop - scrollTop));\n                console.log(\"offsetHeaderTop:\" + (scrollTop + 2*this.offsetHeight - this.offsetMiddleTop));\n                document.getElementById(\"head-text\").style.top = -(scrollTop + 2*this.offsetHeight - this.offsetMiddleTop)+\"px\";\n            }else {\n                document.getElementById(\"head-text\").style.top = 0+\"px\";\n            }\n\n        },\n        // 有问题\n        handleScroll1() {\n            // 获取元素距离页面顶部距离\n            // getBoundingClientRect()获取元素的矩形框，返回对象object，包含top,bottom,left.right,width,height\n            // 用于获得页面中某个元素的左，上，右和下分别相对浏览器视窗的位置。不包含文档卷起来的部分。\n            let headerTop = this.$refs.header.getBoundingClientRect().top;\n            let middleTop = this.$refs.middle.getBoundingClientRect().top;\n\n            console.log('garyhu', 'headerTop = '+headerTop);\n            console.log('garyhu', 'middleTop = '+middleTop);\n\n            this.middleFixed = middleTop <= 0;\n\n            this.headerFixed = !this.middleFixed && headerTop <= 0;\n\n            if(middleTop <= this.offsetHeight && middleTop >= 0){\n                this.headerFixed = true;\n                this.$refs.header.style.top = (middleTop - this.offsetHeight) + \"px\";\n            }else {\n                this.$refs.header.style.top = 0;\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n    html,body,div {\n        padding: 0px;\n        margin: 0px;\n    }\n    #head-text {\n        width: 100%;\n        height: 50px;\n        background-color: burlywood;\n        line-height: 50px;\n        color: #FFFFFF;\n    }\n    #middle-text{\n        width: 100%;\n        height: 50px;\n        background-color: burlywood;\n        line-height: 50px;\n        color: #FFFFFF;\n    }\n    .content-part {\n        width: 100%;\n        height: 1000px;\n        background-color: aquamarine;\n        color: rgb(238, 10, 10);\n        line-height: 1000px;\n    }\n\n    #space {\n        height: 200px;\n        background-color: chocolate\n    }\n\n    .isFixed{\n        position: fixed;\n        top: 0;\n        left: 0;\n    }\n</style>\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StickView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StickView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StickView.vue?vue&type=template&id=748a45cb&scoped=true&\"\nimport script from \"./StickView.vue?vue&type=script&lang=js&\"\nexport * from \"./StickView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StickView.vue?vue&type=style&index=0&id=748a45cb&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"748a45cb\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StickView.vue?vue&type=style&index=0&id=748a45cb&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StickView.vue?vue&type=style&index=0&id=748a45cb&lang=less&scoped=true&\""],"sourceRoot":""}